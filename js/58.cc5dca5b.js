"use strict";(self["webpackChunkweek2"]=self["webpackChunkweek2"]||[]).push([[58],{4058:function(t,s,e){e.r(s),e.d(s,{default:function(){return f}});e(7658);var n=e(6252),i=e(9963);const o={class:"d-flex flex-column justify-content-between py-5 bg-gray",style:{height:"100vh"}},a={class:"d-flex justify-content-around"},c=(0,n._)("p",{class:"fs-2 fw-bold mb-5"},"繪製簽名圖",-1),l=(0,n._)("div",null,[(0,n._)("p",{class:"fs-2 fw-bold mb-5"},"當前簽名檔"),(0,n._)("img",{class:"d-block border border-1 border-dark bg-light",id:"show-img",width:"500",height:"300"})],-1),r={class:"d-flex justify-content-around mt-auto"};function d(t,s,e,d,u,h){return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",a,[(0,n._)("div",null,[c,(0,n._)("canvas",{class:"d-block bg-light",ref:"sketchpad",id:"canvans",width:"500",height:"300",style:{border:"1px solid black"},onMousedown:s[0]||(s[0]=(...t)=>h.startPosition&&h.startPosition(...t)),onMouseup:s[1]||(s[1]=(...t)=>h.finishedPosition&&h.finishedPosition(...t)),onMouseleave:s[2]||(s[2]=(...t)=>h.finishedPosition&&h.finishedPosition(...t)),onMousemove:s[3]||(s[3]=(...t)=>h.draw&&h.draw(...t))},null,544)]),l]),(0,n._)("div",r,[(0,n._)("button",{type:"button",class:"btn btn-danger p-5 fs-3 fw-bold",onClick:s[4]||(s[4]=t=>this.$router.push("/"))},"重新選擇檔案"),(0,n._)("button",{type:"button",class:"btn btn-danger p-5 fs-3 fw-bold",onClick:s[5]||(s[5]=(0,i.iM)(((...t)=>h.clearcanvas&&h.clearcanvas(...t)),["prevent"]))},"清除內容"),(0,n._)("button",{type:"button",class:"btn btn-success p-5 fs-3 fw-bold",onClick:s[6]||(s[6]=(...t)=>h.saveImage&&h.saveImage(...t))},"儲存"),(0,n._)("button",{type:"button",class:"btn btn-primary p-5 fs-3 fw-bold",onClick:s[7]||(s[7]=t=>this.$router.push("/PdfView2"))},"下一步")])])}var u={data(){return{isPainting:!1,canvas:{},ctx:{},showImage:{}}},methods:{clearcanvas(){this.ctx.clearRect(0,0,500,300)},getPaintPosition(t){const s=this.canvas.getBoundingClientRect();return"mousemove"===t.type?{x:t.clientX-s.left,y:t.clientY-s.top}:{x:t.touches[0].clientX-s.left,y:t.touches[0].clientY-s.top}},startPosition(t){t.preventDefault(),this.isPainting=!0},finishedPosition(){this.isPainting=!1,this.ctx.beginPath()},draw(t){if(!this.isPainting)return;const s=this.getPaintPosition(t);this.ctx.lineTo(s.x,s.y),this.ctx.stroke()},saveImage(){this.showImage=document.querySelector("#show-img");const t=this.canvas.toDataURL("image/png");this.showImage.src=t,localStorage.setItem("img",t)}},mounted(){this.canvas=document.querySelector("#canvans"),this.ctx=this.canvas.getContext("2d"),this.ctx.lineWidth=4,this.ctx.lineCap="round"}},h=e(3744);const b=(0,h.Z)(u,[["render",d]]);var f=b}}]);
//# sourceMappingURL=58.cc5dca5b.js.map